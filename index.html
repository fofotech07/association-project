<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„ØªØ³Ø¬ÙŠÙ„</title>
<style>
body { font-family: Tahoma; display:flex; justify-content:center; align-items:center; height:100vh; background:#f4f6f9; }
form { background:#fff; padding:25px; border-radius:15px; box-shadow:0 4px 10px rgba(0,0,0,0.1); width:350px; text-align:center; }
input { width:90%; padding:10px; margin:8px 0; border-radius:8px; border:1px solid #ccc; }
button { width:95%; padding:10px; border:none; border-radius:8px; background:#007bff; color:white; cursor:pointer; }
button:hover { background:#0056b3; }
.msg { margin-top:15px; font-weight:bold; }
</style>
</head>
<body>
<form id="registerForm">
<h2>Ø§Ø³ØªÙ…Ø§Ø±Ø© Ø§Ù„ØªØ³Ø¬ÙŠÙ„</h2>
<input type="text" id="name" placeholder="Ø§Ù„Ø§Ø³Ù…" required>
<input type="email" id="email" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯" required>
<input type="text" id="phone" placeholder="Ø§Ù„Ù‡Ø§ØªÙ" required>
<button type="submit">Ø¥Ø±Ø³Ø§Ù„</button>
<div class="msg" id="msg"></div>
</form>

<script>
document.getElementById("registerForm").addEventListener("submit", async e => {
  e.preventDefault();
  const name = document.getElementById("name").value;
  const email = document.getElementById("email").value;
  const phone = document.getElementById("phone").value;
  const msg = document.getElementById("msg");
  msg.textContent = "â³ Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„...";
  try {
    const res = await fetch("/register", {
      method:"POST",
      headers:{"Content-Type":"application/json"},
      body:JSON.stringify({name,email,phone})
    });
    
    const data = await res.json(); // Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© ÙƒÙ€ JSON

    if(res.ok){
      msg.textContent = data.message || "âœ… ØªÙ… Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø¨Ù†Ø¬Ø§Ø­!";
      msg.style.color="green";
      document.getElementById("registerForm").reset();
    } else {
      // Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø®Ø·Ø£ Ø§Ù„Ù…Ø­Ø¯Ø¯Ø© Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù…
      msg.textContent = data.error || "âš ï¸ Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ!";
      msg.style.color="red";
    }
  } catch(err){
    msg.textContent = "ğŸš« Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…!";
    msg.style.color="red";
  }
});
</script>
</body>
</html>
